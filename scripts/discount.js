(()=>{const e=()=>{document.querySelector(".xy-discount-offcanvas.show")?.classList.add("hiding"),document.querySelector(".xy-discount-offcanvas.hiding")?.classList.remove("show"),setTimeout((()=>{document.querySelector(".xy-discount-offcanvas.hiding")?.classList.remove("hiding"),document.body.removeAttribute("style")}),300)},t=()=>{let e=document.querySelector(".xy-discount-offcanvas-body"),t=0;e?.addEventListener("scroll",(()=>{let s=e.querySelector(".xy-discount-offcanvas-discount-categories"),c=document.querySelector(".xy-discount-offcanvas-header");t<e.scrollTop?e.scrollTop>s.offsetTop-c.clientHeight&&(c.classList.add("hide"),s.classList.add("hide"),s.classList.remove("sticky")):e.scrollTop>s.offsetTop-c.clientHeight?(c.classList.remove("hide"),s.classList.remove("hide"),s.classList.add("sticky"),c.classList.add("sticky")):(c.classList.remove("sticky"),s.classList.remove("sticky")),t=e.scrollTop}))},s=()=>{let e=document.querySelectorAll(".xy-discount-card-product");e?.forEach((e=>{let t=e.querySelector(".xy-discount-card-product-name"),s=t.firstElementChild,c=e.querySelector(".xy-discount-card-product-price"),o=c.firstElementChild;s?.clientHeight>t?.clientHeight&&(t.classList.contains("word-break")||t.classList.add("word-break")),o?.clientHeight>c?.clientHeight&&(c.classList.contains("word-break")||c.classList.add("word-break"))}))},c=()=>{let e=document.querySelectorAll(".xy-discount-tabs");e?.forEach((e=>{let t=e.querySelectorAll(".xy-discount-tabs-link");t?.forEach((e=>{e.addEventListener("click",(s=>{t?.forEach((e=>{e.classList.remove("active")})),e.classList.value.includes("active")||e.classList.add("active")}))}))}))};document.addEventListener("DOMContentLoaded",(()=>{s(),c(),(()=>{let e=document.querySelectorAll(".xy-discount-btn-chips");e?.forEach((e=>{let t=e.querySelector("div");t?.clientHeight>e?.clientHeight&&(e.classList.contains("word-break")||e.classList.add("word-break"))}))})(),t();let o=document.querySelector("[data-xy-discount-dismiss='offcanvas']");o?.addEventListener("click",e)})),window.offCanvasShow=e=>{let t=e?.getAttribute("data-xy-discount-target");document.querySelector(t)?.classList.add("show"),document.body.style.overflow="hidden"},window.offCanvasHide=e,window.productOffCanvasController=t,window.productCardController=s,window.tabActiveController=c})();